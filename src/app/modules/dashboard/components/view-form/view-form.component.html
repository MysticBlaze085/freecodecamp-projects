<ng-container *ngIf="form">
    <div fxLayout="row">
        <form fxFlex="100%" [formGroup]="form">
            <mat-card class="mb-3">
                <mat-card-header>
                    <mat-card-title>Period: Year 2015</mat-card-title>
                </mat-card-header>
                <mat-form-field appearance="fill" class="state-selector">
                    <mat-label>State</mat-label>
                    <mat-select formControlName="state" (valueChange)="filter($event)">
                        <mat-option *ngFor="let option of options" [value]="option">
                            {{ option }}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
            </mat-card>
        </form>
    </div>
    <mat-card fxLayout.gt-sm="row" fxLayout.lt-sm="column" fxLayoutGap="20px">
        <div fxFlex.gt-sm="30%" *ngIf="viewData">
            <mat-card-header>
                <mat-card-title>{{ viewTitle }} Statistics:</mat-card-title>
            </mat-card-header>
            <mat-list role="list">
                <ng-container *ngFor="let data of viewData.data" class="p-4">
                    <mat-list-item role="listitem" class="border-bottom">
                        <div class="d-flex w-100 text-right">
                            <div class="w-50">{{ data.title }}</div>
                            <div class="ml-auto p-2 mr-1">{{ data.value }}</div>
                        </div>
                    </mat-list-item>
                </ng-container>
            </mat-list>
        </div>
        <app-chart fxFlex.gt-sm="70%" [chartData]="viewData"></app-chart>
    </mat-card>
</ng-container>
